#!/bin/sh
# A little script to check for updates

updates=$(checkupdates)
aurupdates=$(cower -u | awk '{print $2}')
upnum=$(echo ${updates} | wc -w)
aurupnum=$(echo ${aurupdates} | wc -w)
sum=$(echo "${upnum} + ${aurupnum}" | bc)

if [[ ${updates} == "" ]]; then
    updates="No PAC updates"
fi
if [[ ${aurupdates} == "" ]]; then
    aurupdates="No AUR updates\n"
fi

if (( $sum == 0 ))
then
    echo "everything up to date" > ~/.i3/update_info
    echo "" > ~/.i3/update_names
else
    printf "PAC:%2d  AUR:%2d\n" ${upnum} ${aurupnum} > ~/.i3/update_info
    printf "${updates}\n--------------\n${aurupdates}\n" > ~/.i3/update_names
fi
