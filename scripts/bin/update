#!/bin/sh
# A little script to check for updates

updates=$(checkupdates)
aurupdates=$(cower -u | awk '{print $2}')
upnum=$(echo $(echo ${updates} | wc -w)/4 | bc)
aurupnum=$(echo ${aurupdates} | wc -w)
sum=$(echo "${upnum} + ${aurupnum}" | bc)

if [[ ${updates} == "" ]]; then
    updates="No PAC updates"
fi
if [[ ${aurupdates} == "" ]]; then
    aurupdates="No AUR updates\n"
fi

if (( $sum == 0 ))
then
    echo "everything up to date" > /home/christian/.i3/info/update_info
    echo "" > /home/christian/.i3/info/update_names
else
    printf "PAC:%2d  AUR:%2d\n" ${upnum} ${aurupnum} > /home/christian/.i3/info/update_info
    printf "${updates}\n--------------\n${aurupdates}\n" > /home/christian/.i3/info/update_names
fi
